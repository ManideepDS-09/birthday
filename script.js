/* ------------------------------
   Elements
------------------------------ */

const hugBtn = document.getElementById("hugBtn");
const scene1 = document.getElementById("scene1");
const scene2 = document.getElementById("scene2");
const letterBox = document.getElementById("letter");
const finalLove = document.getElementById("finalLove");
const ytplayer = document.getElementById("ytplayer");

/* ------------------------------
   Your Poetic Letter
------------------------------ */

const letterText = `
‡∞™‡±ç‡∞∞‡∞ø‡∞Ø‡∞Æ‡±à‡∞® ‡∞Ö‡∞Æ‡±ç‡∞Æ‡∞æ,

‡∞™‡±Å‡∞ü‡±ç‡∞ü‡∞ø‡∞®‡∞∞‡±ã‡∞ú‡±Å ‡∞∂‡±Å‡∞≠‡∞æ‡∞ï‡∞æ‡∞Ç‡∞ï‡±ç‡∞∑‡∞≤‡±Å ‡∞Ö‡∞Æ‡±ç‡∞Æ!

‡∞®‡±á‡∞®‡±Å ‡∞á‡∞Ç‡∞§ ‡∞¶‡±Ç‡∞∞‡∞Ç ‡∞∞‡∞æ‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞ö‡±á‡∞∏‡∞ø‡∞® ‡∞ï‡∞∑‡±ç‡∞ü‡∞Ç, ‡∞ö‡±Ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞§‡±ç‡∞Ø‡∞æ‡∞ó‡∞Ç, ‡∞á‡∞ö‡±ç‡∞ö‡∞ø‡∞® ‡∞™‡±ç‡∞∞‡±á‡∞Æ ‡∞á‡∞µ‡∞®‡±ç‡∞®‡±Ä ‡∞Æ‡∞æ‡∞ü‡∞≤‡±ç‡∞≤‡±ã ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞≤‡±á‡∞®‡∞ø‡∞µ‡∞ø. 
‡∞®‡∞æ‡∞®‡±ç‡∞® ‡∞é‡∞Ç‡∞§ ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞∂‡∞æ‡∞∞‡±ã ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±Å‚Ä¶ ‡∞ï‡∞æ‡∞®‡±Ä ‡∞Ö‡∞®‡±ç‡∞®‡∞ø‡∞Ç‡∞ü‡∞ø‡∞ï‡∞®‡±ç‡∞®‡∞æ ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ‡∞ó‡∞æ ‡∞®‡∞æ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞®‡∞ø‡∞≤‡∞¨‡∞°‡±ç‡∞°‡∞¶‡∞ø ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±á ‡∞Ö‡∞Æ‡±ç‡∞Æ. 
‡∞Æ‡∞æ ‡∞á‡∞Ç‡∞ü‡∞ø ‡∞¨‡∞≤‡∞Ç, ‡∞Æ‡∞æ ‡∞ú‡±Ä‡∞µ‡∞ø‡∞§‡∞æ‡∞≤ ‡∞µ‡±Ü‡∞≤‡±Å‡∞ó‡±Å, ‡∞Æ‡∞æ ‡∞Ü‡∞®‡∞Ç‡∞¶‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±á.

‡∞®‡∞æ‡∞ï‡∞ø‡∞ö‡±ç‡∞ö‡±á ‡∞ß‡±à‡∞∞‡±ç‡∞Ø‡∞™‡±Ç‡∞∞‡±ç‡∞µ‡∞ï‡∞Æ‡±à‡∞® ‡∞Æ‡∞æ‡∞ü‡∞µ‡∞∞‡∞ï‡±Å ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞ï‡±ç‡∞∑‡∞£‡∞Ç ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±á ‡∞®‡∞æ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞¶‡∞∞‡±ç‡∞∂‡∞ø. ‡∞®‡±Ä ‡∞ï‡∞≥‡±ç‡∞≥‡∞≤‡±ç‡∞≤‡±ã‡∞®‡∞ø ‡∞Æ‡∞Æ‡∞§, ‡∞®‡±Ä ‡∞ö‡±á‡∞§‡±Å‡∞≤‡±ç‡∞≤‡±ã‡∞®‡∞ø ‡∞≠‡∞∞‡±ã‡∞∏‡∞æ, 
‡∞®‡±Ä ‡∞¶‡∞ó‡±ç‡∞ó‡∞∞‡±Å‡∞Ç‡∞°‡∞ó‡∞æ‡∞®‡±á ‡∞¶‡±ä‡∞∞‡∞ø‡∞ï‡±á ‡∞Ü ‡∞™‡±ç‡∞∞‡∞∂‡∞æ‡∞Ç‡∞§‡∞§‚Ä¶ ‡∞á‡∞µ‡∞®‡±ç‡∞®‡±Ä ‡∞®‡∞æ‡∞ï‡±Å ‡∞™‡±ç‡∞∞‡∞™‡∞Ç‡∞ö‡∞Ç‡∞≤‡±ã‡∞®‡∞ø ‡∞ó‡±ä‡∞™‡±ç‡∞™ ‡∞µ‡∞∞‡∞æ‡∞≤‡±Å.

‡∞®‡±á‡∞®‡±Å ‡∞é‡∞Ç‡∞§ ‡∞¶‡±Ç‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ, ‡∞®‡∞æ ‡∞π‡±É‡∞¶‡∞Ø‡∞Ç ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Ç ‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±Ç ‡∞®‡±Ä ‡∞¶‡∞ó‡±ç‡∞ó‡∞∞‡±á ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø ‡∞Ö‡∞Æ‡±ç‡∞Æ. 
‡∞®‡±Ä ‡∞Ü‡∞∂‡±Ä‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±á ‡∞®‡∞æ‡∞ï‡±Å ‡∞¨‡∞≤‡∞Ç. ‡∞®‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡±ç‡∞•‡∞®‡∞≤‡±á ‡∞®‡∞æ‡∞ï‡±Å ‡∞¶‡∞æ‡∞∞‡∞ø‡∞ï‡∞®‡∞ø‡∞™‡∞ø‡∞Ç‡∞ö‡±á ‡∞µ‡±Ü‡∞≤‡±Å‡∞ó‡±Å. ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞®‡∞æ ‡∞Ö‡∞Æ‡±ç‡∞Æ‡∞ó‡∞æ ‡∞â‡∞Ç‡∞°‡∞ü‡∞Ç. 
‡∞®‡∞æ ‡∞ú‡±Ä‡∞µ‡∞ø‡∞§‡∞Ç‡∞≤‡±ã ‡∞ó‡±ä‡∞™‡±ç‡∞™ ‡∞Ö‡∞¶‡±É‡∞∑‡±ç‡∞ü‡∞Ç‚Ä¶ ‡∞Æ‡∞æ‡∞ü‡∞≤‡±ç‡∞≤‡±ã ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞≤‡±á‡∞®‡∞ø ‡∞í‡∞ï ‡∞µ‡∞∞‡∞Ç.

‡∞Ö‡∞Æ‡±ç‡∞Æ‡∞æ, ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞á‡∞≤‡∞æ‡∞ó‡±á ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞Ç‡∞ó‡∞æ, ‡∞∏‡∞Ç‡∞§‡±ã‡∞∑‡∞Ç‡∞ó‡∞æ, ‡∞ö‡∞ø‡∞∞‡±Å‡∞®‡∞µ‡±ç‡∞µ‡±Å‡∞§‡±ã ‡∞é‡∞®‡±ç‡∞®‡±ã ‡∞™‡±Å‡∞ü‡±ç‡∞ü‡∞ø‡∞®‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡±Å ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞®‡∞ø ‡∞¶‡±á‡∞µ‡±Å‡∞£‡±ç‡∞£‡∞ø ‡∞ï‡±ã‡∞∞‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å. 
‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞∏‡∞Ç‡∞§‡±ã‡∞∑‡∞Ç‡∞ó‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞®‡±á‡∞®‡±Ç ‡∞®‡∞ø‡∞ú‡∞Ç‡∞ó‡∞æ ‡∞∏‡∞Ç‡∞§‡±ã‡∞∑‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ü‡∞æ‡∞®‡±Å. ‡∞®‡±Ä ‡∞Ü‡∞®‡∞Ç‡∞¶‡∞Æ‡±á ‡∞®‡∞æ ‡∞Ü‡∞®‡∞Ç‡∞¶‡∞Ç.

‡∞é‡∞™‡±ç‡∞™‡∞ü‡∞ø‡∞ï‡±Ä ‡∞®‡±Ä ‡∞ï‡±ä‡∞°‡±Å‡∞ï‡±Å‡∞ó‡∞æ‡∞®‡±á, ‡∞®‡±Ä ‡∞ó‡∞∞‡±ç‡∞µ‡∞ï‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ‡∞®‡±á ‡∞â‡∞Ç‡∞°‡∞æ‡∞≤‡∞®‡∞ø ‡∞ï‡±ã‡∞∞‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å.


‡∞®‡∞æ ‡∞Æ‡±ä‡∞¶‡∞ü‡∞ø ‡∞∂‡±ç‡∞µ‡∞æ‡∞∏‡∞ï‡∞ø ‡∞Ö‡∞∞‡±ç‡∞•‡∞Ç ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å,
‡∞®‡∞æ ‡∞Æ‡±ä‡∞¶‡∞ü‡∞ø ‡∞Ö‡∞°‡±Å‡∞ó‡±Å‡∞ï‡∞ø ‡∞¶‡∞æ‡∞∞‡∞ø ‡∞ö‡±Ç‡∞™‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å.
‡∞®‡±Ä ‡∞ö‡±á‡∞§‡±Å‡∞≤‡±ç‡∞≤‡±ã ‡∞®‡∞æ ‡∞™‡±ç‡∞∞‡∞™‡∞Ç‡∞ö‡∞Ç ‡∞Æ‡±ä‡∞¶‡∞≤‡±à‡∞Ç‡∞¶‡∞ø,
‡∞®‡±Ä ‡∞™‡±ç‡∞∞‡±á‡∞Æ‡∞≤‡±ã ‡∞®‡∞æ ‡∞ú‡±Ä‡∞µ‡∞ø‡∞§‡∞Ç ‡∞™‡±Å‡∞∑‡±ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞ø‡∞Ç‡∞¶‡∞ø.

‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞®‡∞µ‡±ç‡∞µ‡∞ø‡∞§‡±á ‡∞Æ‡∞æ ‡∞á‡∞≤‡±ç‡∞≤‡±Å ‡∞µ‡±Ü‡∞≤‡∞ø‡∞ó‡∞ø‡∞™‡±ã‡∞§‡±Å‡∞Ç‡∞¶‡∞ø,
‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞Ö‡∞≤‡∞∏‡∞ø‡∞™‡±ã‡∞Ø‡∞ø‡∞§‡±á ‡∞Æ‡∞æ ‡∞π‡±É‡∞¶‡∞Ø‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∏‡∞ï‡∞¨‡∞æ‡∞∞‡±Å‡∞§‡∞æ‡∞Ø‡∞ø.
‡∞®‡±Ä ‡∞§‡±ç‡∞Ø‡∞æ‡∞ó‡∞æ‡∞≤ ‡∞∂‡∞¨‡±ç‡∞¶‡∞Ç ‡∞®‡∞ø‡∞∂‡±ç‡∞∂‡∞¨‡±ç‡∞¶‡∞Æ‡±á ‡∞Ö‡∞Ø‡∞ø‡∞®‡∞æ,
‡∞Ü ‡∞®‡∞ø‡∞∂‡±ç‡∞∂‡∞¨‡±ç‡∞¶‡∞Æ‡±á ‡∞Æ‡∞æ ‡∞¨‡∞≤‡∞Æ‡±à‡∞® ‡∞ó‡∞æ‡∞®‡∞Æ‡∞Ø‡±ç‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø.

‡∞®‡∞æ‡∞®‡±ç‡∞® ‡∞Ö‡∞Ç‡∞°‡∞ó‡∞æ ‡∞®‡∞ø‡∞≤‡∞ø‡∞ö‡∞ø‡∞®‡∞æ,
‡∞®‡±Ä ‡∞ó‡±Å‡∞Ç‡∞°‡±Ü‡∞¶‡±à‡∞∞‡±ç‡∞Ø‡∞Æ‡±á ‡∞Æ‡∞æ ‡∞™‡∞æ‡∞¶‡∞æ‡∞≤‡∞ï‡±Å ‡∞¶‡∞ø‡∞ï‡±ç‡∞∏‡±Ç‡∞ö‡∞ø.
‡∞®‡±Ä ‡∞Ü‡∞∂‡±Ä‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±á ‡∞Æ‡∞æ ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞ó‡∞æ‡∞≤‡∞ø,
‡∞®‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡±ç‡∞•‡∞®‡∞≤‡±á ‡∞Æ‡∞æ ‡∞µ‡±Ü‡∞®‡±ç‡∞®‡∞Ç‡∞ü‡∞ø ‡∞®‡∞°‡∞ø‡∞ö‡±á ‡∞µ‡±Ü‡∞≤‡±Å‡∞ó‡±Å.

‡∞®‡∞æ‡∞®‡±ç‡∞® ‡∞Ö‡∞Ç‡∞°‡∞ó‡∞æ ‡∞®‡∞ø‡∞≤‡∞ø‡∞ö‡∞ø‡∞®‡∞æ,
‡∞®‡±Ä ‡∞ó‡±Å‡∞Ç‡∞°‡±Ü‡∞¶‡±à‡∞∞‡±ç‡∞Ø‡∞Æ‡±á ‡∞Æ‡∞æ ‡∞™‡∞æ‡∞¶‡∞æ‡∞≤‡∞ï‡±Å ‡∞¶‡∞ø‡∞ï‡±ç‡∞∏‡±Ç‡∞ö‡∞ø.
‡∞®‡±Ä ‡∞Ü‡∞∂‡±Ä‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±á ‡∞Æ‡∞æ ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞ó‡∞æ‡∞≤‡∞ø,
‡∞®‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡±ç‡∞•‡∞®‡∞≤‡±á ‡∞Æ‡∞æ ‡∞µ‡±Ü‡∞®‡±ç‡∞®‡∞Ç‡∞ü‡∞ø ‡∞®‡∞°‡∞ø‡∞ö‡±á ‡∞µ‡±Ü‡∞≤‡±Å‡∞ó‡±Å.

‡∞®‡∞ø‡∞®‡±ç‡∞®‡±Å ‡∞ú‡±Ä‡∞µ‡∞®‡∞æ‡∞Ç‡∞§‡∞Ç ‡∞™‡±ç‡∞∞‡±á‡∞Æ‡∞ø‡∞Ç‡∞ö‡±á,
‡∞®‡±Ä ‡∞ï‡±ä‡∞°‡±Å‡∞ï‡±Å ‡∞Æ‡∞®‡±Ä‡∞¶‡±Ä‡∞™‡±ç
`;

/* ------------------------------
   Typewriter Logic
------------------------------ */

function typeWriter(text, element, speed = 55, callback) {
    let i = 0;

    function typing() {
        if (i < text.length) {
            element.innerHTML = text.substring(0, i + 1);
            i++;
            setTimeout(typing, speed);
        } else {
            if (callback) callback();
        }
    }

    typing();
}

/* ------------------------------
   Emoji Rain
------------------------------ */

function startEmojiRain() {
    const emojiArray = ["üíñ", "üíï", "üíù", "üíì", "‚ù§Ô∏è", "üíû"];
    const container = document.querySelector(".emoji-rain");

    setInterval(() => {
        const emoji = document.createElement("div");
        emoji.classList.add("emoji");

        emoji.innerText = emojiArray[Math.floor(Math.random() * emojiArray.length)];
        emoji.style.left = Math.random() * 100 + "vw";
        emoji.style.animationDuration = 3 + Math.random() * 3 + "s";

        container.appendChild(emoji);

        setTimeout(() => emoji.remove(), 6000);
    }, 200);
}

/* ------------------------------
   Floating Balloons
------------------------------ */

function startBalloons() {
    const container = document.querySelector(".balloons");

    setInterval(() => {
        const balloon = document.createElement("img");
        balloon.src = "https://www.freepik.com/free-psd/bunch-floating-balloons-isolated_360524490.htm#fromView=keyword&page=1&position=4&uuid=03983533-5f09-4a80-a34d-3b87a23e7539&query=Birthday+balloon+png"; // colorful balloon PNG
        balloon.classList.add("balloon");

        balloon.style.left = Math.random() * 90 + "vw";
        balloon.style.width = 40 + Math.random() * 30 + "px";
        balloon.style.animationDuration = 6 + Math.random() * 4 + "s";

        container.appendChild(balloon);

        setTimeout(() => balloon.remove(), 10000);
    }, 800);
}

/* ------------------------------
   Confetti Blast
------------------------------ */

function fireConfetti() {
    confetti({
        particleCount: 200,
        spread: 90,
        origin: { y: 0.6 }
    });
}

/* ------------------------------
   Start Music (YouTube Autoplay)
------------------------------ */

function playMusic() {
     ytplayer.src = "https://www.youtube.com/embed/x0tNKV0XYYM?autoplay=1&mute=0&controls=0&enablejsapi=1";
}

/* ------------------------------
   Scene Transition
------------------------------ */

hugBtn.addEventListener("click", () => {
    // Fade Scene 1 Out
    scene1.classList.add("hidden");
    scene1.classList.remove("active");

    // Fade Scene 2 In
    setTimeout(() => {
        scene2.classList.remove("hidden");
        scene2.classList.add("active");

        // Start everything
        fireConfetti();
        startEmojiRain();
        startBalloons();
        playMusic();

        // Start typewriter
        typeWriter(letterText, letterBox, 35, () => {
            // After typewriter ends ‚Üí show "I love you"
            finalLove.classList.remove("hidden");
        });

    }, 800);
});